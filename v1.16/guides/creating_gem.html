<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge' http-equiv='X-UA-Compatible'>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <meta content='276VSYOko8B8vIu1i8i5qbj7_ql5PXo0dU69XQy-SL' name='globalsign-domain-verification'>
    <title>
      Bundler: How to create a Ruby gem with Bundler
    </title>
    
    <script src="/javascripts/application.js"></script>
    <script src="/javascripts/analytics.js" async="true"></script>
    <link href="/stylesheets/application.css" rel="stylesheet" />
    <link href='/images/apple-touch-icon.png' rel='apple-touch-icon' sizes='180x180'>
    <link href='/images/favicon-32x32.png' rel='icon' sizes='32x32' type='image/png'>
    <link href='/images/favicon-16x16.png' rel='icon' sizes='16x16' type='image/png'>
    <link href='/manifest.json' rel='manifest'>
    <link color='#50bced' href='/images/safari-pinned-tab.svg' rel='mask-icon'>
    <meta content='bundler.io' name='apple-mobile-web-app-title'>
    <meta content='bundler.io' name='application-name'>
    <meta content='#ffffff' name='theme-color'>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
    
  </head>
  <body class=''>
    <nav class='navbar navbar-default'>
      <div class='container'>
        <div class='navbar-header'>
          <button aria-expanded='false' class='navbar-toggle collapsed' data-target='#bs-navbar-collapse' data-toggle='collapse' type='button'>
            <span class='sr-only'>Toggle navigation</span>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
          </button>
          <b><a href="/" class="navbar-brand">Bundler</a></b>
        </div>
        <div class='collapse navbar-collapse' id='bs-navbar-collapse'>
          <ul class='nav navbar-nav navbar-right'>
            <li>
              <div class='search-wrapper'>
                <div class='form-group has-feedback'>
                  <i class='glyphicon glyphicon-search form-control-feedback'></i>
                  <input class='input-search' id='input-search' placeholder='Type to search...' type='text'>
                </div>
              </div>
            </li>
            <li><a href="/docs.html">Docs</a></li>
            <li><a href="/contributors.html">Team</a></li>
            <li><a href="/blog">Blog</a></li>
            <li><a href="https://github.com/bundler/bundler">Repository</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class='main-wrapper'>
      <div class='row bg-light-blue header'>
        <img src="/images/docs_header_transparent_bg.png" srcset="/images/docs_header_transparent_bg.png 1x, /images/docs_header_transparent_bg@2x.png 2x, /images/docs_header_transparent_bg@3x.png 3x" class="img-responsive header-padding" style="max-width: 400px;" alt="Docs header transparent bg" />
      </div>
      <div class='row'>
        <div class='container' id='guide-container'>
          <div id='wrapper'>
            <div class='hidden-xs' id='sidebar-wrapper'>
              <div class='sidebar-nav'>
                <h4>Guides</h4>
                <ul>
                  <li class=''>
                    <a href="/v1.16/guides/faq.html">Frequently Asked Questions</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class='active'>
                    <a href="/v1.16/guides/creating_gem.html">How to create a Ruby gem with Bundler</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/deploying.html">How to deploy bundled applications</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/git.html">How to install gems from git repositories</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/using_bundler_in_applications.html">How to manage application dependencies with Bundler</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/groups.html">How to manage groups of gems</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/bundler_sharing.html">How to package and share code using a Gemfile</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/rubygems_tls_ssl_troubleshooting_guide.html">How to troubleshoot RubyGems and Bundler TLS/SSL Issues</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/updating_gems.html">How to update gems with Bundler</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/rails.html">How to use Bundler with Rails</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/bundler_setup.html">How to use Bundler with Ruby</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/sinatra.html">How to use Bundler with Sinatra</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                  <li class=''>
                    <a href="/v1.16/guides/git_bisect.html">How to use git bisect with Bundler</a>
                  </li>
                  <li class='separator'>
                    <hr>
                  </li>
                </ul>
              </div>
            </div>
            <div class='guide contents' id='page-content-wrapper'>
              <h1 id="how-to-create-a-ruby-gem-with-bundler">How to create a Ruby gem with Bundler</h1>
              
              <p>Bundler is a tool created by Carl Lerche, Yehuda Katz, André Arko and various superb contributors 
              for managing Rubygems dependencies in Ruby libraries. Bundler 1.0 was released around the same 
              time as Rails 3 and it’s the Rails project where Bundler is probably most well-known.
              But remember, Bundler isn’t just for Rails!</p>
              
              <p>Did you know that you can use Bundler for not only gem dependency management but also for writing 
              our own gems? It’s really easy to do this and Bundler provides a couple of things to help you 
              along this path.</p>
              
              <p>Related reading:</p>
              
              <ul>
                <li><a href="http://guides.rubygems.org/gems-with-extensions/">Creating a gem with a C
              extension</a></li>
                <li><a href="http://guides.rubygems.org/patterns/">Common practices for developing
              gems</a></li>
              </ul>
              
              <h2 id="but-first-why">But first, why?</h2>
              
              <p>Why should we create a gem? Can’t we just throw in some code into our <em>other</em> library and use 
              that instead? Sure, we can do that. But then what if we want to use the code elsewhere, or we 
              want to share it? This is why a gem is perfect. We can code our library and gem separately from 
              each other and just have the library require the gem. If we want to use the gem in another 
              library, then it’s just a tiny modification rather than a whole slew of copying.</p>
              
              <p>Also: Sharing is caring.</p>
              
              <h2 id="getting-started">Getting Started</h2>
              
              <p>This guide was made using version 1.9.0 of bundler. We can follow along with other versions, but 
              we might not get the exact same output.  To check which version of bundler we currently have, 
              lets run the following command:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>$ bundle -v&#x000A;</code></pre></div>
              <p>We should see something close to <code>Bundler version 1.9.0</code>.  If necessary, we can update to the 
              newest version of Bundler by running <code>gem update bundler</code>.</p>
              
              <p>To begin to create a gem using Bundler, use the <code>bundle gem</code> command like this:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>$ bundle gem foodie&#x000A;</code></pre></div>
              <p>We call our gem <code>foodie</code> because this gem is going to do a couple of things around food, such as 
              portraying them as either “Delicious!” or “Gross!”. Stay tuned.</p>
              
              <p>For information on gem naming conventions, you can read the “<a href="http://guides.rubygems.org/name-your-gem/">Name Your
              Gem</a>” guide on the RubyGems website.</p>
              
              <p>This command creates a <a href="https://github.com/radar/guides/tree/master/gem-scaffold/foodie">scaffold directory</a>
              for our new gem and, if we have
              Git installed, initializes a Git repository in this directory so we can start committing right
              away. If this is your first time running the <code>bundle gem</code> command, you will be asked whether you 
              want to include a the <code>CODE_OF_CONDUCT.md</code> and <code>LICENSE.txt</code> files with your project. The files 
              generated are:</p>
              
              <ul>
                <li>
                  <p><strong>Gemfile</strong>: Used to manage gem dependencies for our library’s
              development. This file contains a <code>gemspec</code> line meaning that Bundler will include dependencies 
              specified in <em>foodie.gemspec</em> too. It’s best practice to specify all the gems that our library 
              depends on in the <em>gemspec</em>.</p>
                </li>
                <li>
                  <p><strong>Rakefile</strong>: Requires Bundler and adds the <code>build</code>, <code>install</code>
              and <code>release</code> Rake tasks by way of calling <code>Bundler::GemHelper.install_tasks</code>. The <code>build</code> task 
              will build the current version of the gem and store it under the <em>pkg</em> folder, the <code>install</code> task 
              will build <em>and</em> install the gem to our system (just like it would do if we <code>gem install</code>‘d it) 
              and <code>release</code> will push the gem to Rubygems for consumption by the public.</p>
                </li>
                <li>
                  <p><strong>CODE_OF_CONDUCT.md</strong>: Provides a code of conduct
              that you expect all contributors to your gem to follow. Will only be included if you chose to 
              have it included.</p>
                </li>
                <li>
                  <p><strong>LICENSE.txt</strong>: Includes the MIT license. Will only be
              included if you chose to have it included.</p>
                </li>
                <li>
                  <p><strong>.gitignore</strong>: (only if we have Git). This ignores anything
              in the <em>pkg</em> directory (generally files put there by <code>rake build</code>), anything with a <em>.gem</em> 
              extension and the <em>.bundle</em> directory.</p>
                </li>
                <li>
                  <p><strong>foodie.gemspec</strong>: The Gem Specification file. This is
              where we provide information for Rubygems’ consumption such as the name, description and homepage 
              of our gem. This is also where we specify the dependencies our gem needs to run.</p>
                </li>
                <li>
                  <p><strong>lib/foodie.rb</strong>: The main file to define our gem’s
              code. This is the file that will be required by Bundler (or any similarly smart system) when our 
              gem is loaded. This file defines a <code>module</code> which we can use as a namespace for all our gem’s 
              code. It’s best practice to put our code in…</p>
                </li>
                <li>
                  <p><strong>lib/foodie</strong>: here. This folder should contain all the
              code (classes, etc.) for our gem. The <em>lib/foodie.rb</em> file is there for setting up our gem’s 
              environment, whilst all the parts of it go in this folder. If our gem has multiple uses, 
              separating this out so that people can require one class/file at a time can be really helpful.</p>
                </li>
                <li>
                  <p><strong>lib/foodie/version.rb</strong>: Defines a <code>Foodie</code>
              module and in it, a <code>VERSION</code> constant. This file is loaded by the <em>foodie.gemspec</em> to specify a 
              version for the gem specification. When we release a new version of the gem we will increment a 
              part of this version number to indicate to Rubygems that we’re releasing a new version.</p>
                </li>
              </ul>
              
              <p>There’s our base and our layout, now get developing!</p>
              
              <h2 id="testing-our-gem">Testing our gem</h2>
              
              <p>For this guide, we’re going to use RSpec to test our gem. We write tests to ensure that 
              everything goes according to plan and to prevent future-us from building a time machine to come 
              back and kick our asses.</p>
              
              <p>To get started with writing our tests, we’ll create a <em>spec</em> directory at the root of gem by 
              using the command <code>mkdir spec</code>. Next, we’ll specify in our <em>foodie.gemspec</em> file that <code>rspec</code> is 
              a development dependency by adding this line inside the <code>Gem::Specification</code> block:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">spec</span><span class="p">.</span><span class="nf">add_development_dependency</span> <span class="s2">"rspec"</span><span class="p">,</span> <span class="s2">"~&gt; 3.2"</span>&#x000A;</code></pre></div>
              <p>Because we have the <code>gemspec</code> method call in our <em>Gemfile</em>, Bundler will automatically add this
              gem to a group called “development” which then we can reference any time we want to load these
              gems with the following line:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="no">Bundler</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:default</span><span class="p">,</span> <span class="ss">:development</span><span class="p">)</span>&#x000A;</code></pre></div>
              <p>The benefit of putting this dependency specification inside of <em>foodie.gemspec</em> rather than the
              <em>Gemfile</em> is that anybody who runs <code>gem install foodie --dev</code> will get these development
              dependencies installed too. This command is used for when people wish to test a gem without
              having to fork it or clone it from GitHub.</p>
              
              <p>When we run <code>bundle install</code>, rspec will be installed for this library and any other library we
              use with Bundler, but not for the system. This is an important distinction to make: any gem
              installed by Bundler will not muck about with gems installed by <code>gem install</code>. It is effectively
              a sandboxed environment. It is best practice to use Bundler to manage our gems so that we do not
              have gem version conflicts.</p>
              
              <p>By running <code>bundle install</code>, Bundler will generate the <strong>extremely important</strong> <em>Gemfile.lock</em>
              file. This file is responsible for ensuring that every system this library is developed on has
              the <em>exact same</em> gems so it should always be checked into version control. For more information
              on this file <a href="/man/bundle-install.1.html#THE-GEMFILE-LOCK">read “THE GEMFILE.LOCK” section of the <code>bundle install</code>
              manpage</a>.</p>
              
              <p>Additionally in the <code>bundle install</code> output, we will see this line:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>Using foodie (0.1.0) from source at /path/to/foodie&#x000A;</code></pre></div>
              <p>Bundler detects our gem, loads the gemspec and bundles our gem just like every other gem.</p>
              
              <p>We can write our first test with this framework now in place. For testing, first we create a
              folder called <em>spec</em> to put our tests in (<code>mkdir spec</code>).  We then create a new RSpec file for
              every class we want to test at the root of the <em>spec</em> directory. If we had multiple facets to our
              gem, we would group them underneath a directory such as <em>spec/facet</em>; but this is a simple gem,
              so we won’t. Let’s call this new file <code>spec/foodie_spec.rb</code> and fill it with the following:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">describe</span> <span class="no">Foodie</span><span class="o">::</span><span class="no">Food</span> <span class="k">do</span>&#x000A;  <span class="n">it</span> <span class="s2">"broccoli is gross"</span> <span class="k">do</span>&#x000A;    <span class="n">expect</span><span class="p">(</span><span class="no">Foodie</span><span class="o">::</span><span class="no">Food</span><span class="p">.</span><span class="nf">portray</span><span class="p">(</span><span class="s2">"Broccoli"</span><span class="p">)).</span><span class="nf">to</span> <span class="n">eql</span><span class="p">(</span><span class="s2">"Gross!"</span><span class="p">)</span>&#x000A;  <span class="k">end</span>&#x000A;&#x000A;  <span class="n">it</span> <span class="s2">"anything else is delicious"</span> <span class="k">do</span>&#x000A;    <span class="n">expect</span><span class="p">(</span><span class="no">Foodie</span><span class="o">::</span><span class="no">Food</span><span class="p">.</span><span class="nf">portray</span><span class="p">(</span><span class="s2">"Not Broccoli"</span><span class="p">)).</span><span class="nf">to</span> <span class="n">eql</span><span class="p">(</span><span class="s2">"Delicious!"</span><span class="p">)</span>&#x000A;  <span class="k">end</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>When we run <code>bundle exec rspec spec</code> again, we’ll be told the <code>Foodie::Food</code> constant doesn’t
              exist. This is true, and we should define it in <code>lib/foodie/food.rb</code> like this:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="k">module</span> <span class="nn">Foodie</span>&#x000A;  <span class="k">class</span> <span class="nc">Food</span>&#x000A;    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">portray</span><span class="p">(</span><span class="n">food</span><span class="p">)</span>&#x000A;      <span class="k">if</span> <span class="n">food</span><span class="p">.</span><span class="nf">downcase</span> <span class="o">==</span> <span class="s2">"broccoli"</span>&#x000A;        <span class="s2">"Gross!"</span>&#x000A;      <span class="k">else</span>&#x000A;        <span class="s2">"Delicious!"</span>&#x000A;      <span class="k">end</span>&#x000A;    <span class="k">end</span>&#x000A;  <span class="k">end</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>To load this file, we’ll need to add a require line to <code>lib/foodie.rb</code> for it:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'foodie/food'</span>&#x000A;</code></pre></div>
              <p>We will also need to require the <code>lib/foodie.rb</code> at the top of <code>spec/foodie_spec.rb</code>:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'foodie'</span>&#x000A;</code></pre></div>
              <p>When we run our specs with <code>bundle exec rspec spec</code> this test will pass:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>2 example, 0 failures&#x000A;</code></pre></div>
              <p>Great success! If we’re using Git (or any other source control system), this is a great
              checkpoint to commit our code. Always remember to commit often!</p>
              
              <p>It’s all well and dandy that we can write our own code, but what if we want to depend on another
              gem? That’s easy too.</p>
              
              <h2 id="using-other-gems">Using other gems</h2>
              
              <p>We’re now going to use Active Support’s <code>pluralize</code> method by calling it using a method from our
              gem.</p>
              
              <p>To use another gem, we must first specify it as a dependency in our <em>foodie.gemspec</em>. We can
              specify the dependency on the <code>activesupport</code> gem in <em>foodie.gemspec</em> by adding this line inside
              the <code>Gem::Specification</code> object:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">spec</span><span class="p">.</span><span class="nf">add_dependency</span> <span class="s2">"activesupport"</span>&#x000A;</code></pre></div>
              <p>If we wanted to specify a particular version we may use this line:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">spec</span><span class="p">.</span><span class="nf">add_dependency</span> <span class="s2">"activesupport"</span><span class="p">,</span> <span class="s2">"4.2.0"</span>&#x000A;</code></pre></div>
              <p>Or specify a version constraint:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">spec</span><span class="p">.</span><span class="nf">add_dependency</span> <span class="s2">"activesupport"</span><span class="p">,</span> <span class="s2">"&gt;= 4.2.0"</span>&#x000A;</code></pre></div>
              <p>However, relying on a version simply greater than the latest-at-the-time is a sure-fire way to
              run into problems later on down the line. Try to always use <code>~&gt;</code> for specifying dependencies:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">spec</span><span class="p">.</span><span class="nf">add_dependency</span> <span class="s2">"activesupport"</span><span class="p">,</span> <span class="s2">"~&gt; 4.2.0"</span>&#x000A;</code></pre></div>
              <p>When we run <code>bundle install</code> again, the <code>activesupport</code> gem will be installed for us to use. Of
              course, like the diligent TDD/BDD zealots we are, we will test our <code>pluralize</code> method before we
              code it. Let’s add this test to <em>spec/food_spec.rb</em> now inside our <code>describe Foodie::Food</code> block:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">it</span> <span class="s2">"pluralizes a word"</span> <span class="k">do</span>&#x000A;  <span class="n">expect</span><span class="p">(</span><span class="no">Foodie</span><span class="o">::</span><span class="no">Food</span><span class="p">.</span><span class="nf">pluralize</span><span class="p">(</span><span class="s2">"Tomato"</span><span class="p">)).</span><span class="nf">to</span> <span class="n">eql</span><span class="p">(</span><span class="s2">"Tomatoes"</span><span class="p">)</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>Of course when we run this spec with <code>bundle exec rspec spec</code> it will fail:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>expect(Failure/Error: Foodie::Food.pluralize("Tomato")).to eql("Tomatoes")&#x000A;     undefined method `pluralize' for Foodie::Food:Class&#x000A;</code></pre></div>
              <p>We can now define this <code>pluralize</code> method in <em>lib/foodie/food.rb</em> by first off requiring the part
              of Active Support which contains the <code>pluralize</code> method. This line should go at the top of the
              file, just like all good <code>require</code>s do.</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'active_support/inflector'</span>&#x000A;</code></pre></div>
              <p>Next, we can define the <code>pluralize</code> method like this:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">pluralize</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>&#x000A;  <span class="n">word</span><span class="p">.</span><span class="nf">pluralize</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>When we run <code>bundle exec rspec spec</code> our specs will pass:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>3 examples, 0 failures&#x000A;</code></pre></div>
              <p>This brings another checkpoint where it’d be a good idea to commit our efforts so far.</p>
              
              <p>It’s great that we’re able to call our gem’s methods now (all two of them!) and get them to
              return strings, but everybody knows that the best gems come with command line interfaces
              (hereafter, “CLI”). You can tell right now just how uncool this gem is because it doesn’t have a
              CLI, right? It needs one. It craves one.</p>
              
              <p>It deserves one.</p>
              
              <h2 id="testing-a-command-line-interface">Testing a command line interface</h2>
              
              <p>Before we go jumping headlong into giving our gem the best darn CLI a
              gem-with-only-two-methods-that-both-return-useless-strings can have, let’s consider how we’re
              going to test this first. We’re zealots, remember? Now if only there was a tool we could use. It
              would have to have a cool name, of course.</p>
              
              <p>Like “Aruba”. <a href="https://github.com/cucumber/aruba">BAM</a></p>
              
              <p>David Chelimsky and Aslak Hellesøy teamed up to create Aruba, a CLI testing tool, which they both
              use for RSpec and Cucumber, and now we too can use it for testing our gems. Oh hey, speaking of
              Cucumber that’s also what we’re going to be using to define the Aruba tests.
              Human-code-client-readable tests are the way of the future, man.</p>
              
              <p>We will define new development dependencies in <em>foodie.gemspec</em> now for the Cucumber things:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">spec</span><span class="p">.</span><span class="nf">add_development_dependency</span> <span class="s2">"cucumber"</span>&#x000A;<span class="n">spec</span><span class="p">.</span><span class="nf">add_development_dependency</span> <span class="s2">"aruba"</span>&#x000A;</code></pre></div>
              <p>Cool. Let’s run <code>bundle install</code> to get these awesome tools set up.</p>
              
              <p>Our CLI is going to have two methods, which correspond to the two methods which we have defined
              in <code>Foodie::Food</code>. We will now create a <em>features</em> directory where we will use Aruba to write tests for our CLI. In this directory we’ll create a new file called
              <em>features/food.feature</em> and fill it with this juicy code:</p>
              
              <div class="highlight"><pre class="highlight gherkin"><code><span class="kd">Feature</span><span class="p">:</span> Food&#x000A;  In order to portray or pluralize food&#x000A;  As a CLI&#x000A;  I want to be as objective as possible&#x000A;&#x000A;  <span class="kn">Scenario</span><span class="p">:</span> Broccoli is gross&#x000A;    <span class="nf">When </span>I run `foodie portray broccoli`&#x000A;    <span class="nf">Then </span>the output should contain <span class="s">"Gross!"</span>&#x000A;&#x000A;  <span class="kn">Scenario</span><span class="p">:</span> Tomato, or Tomato?&#x000A;    <span class="nf">When </span>I run `foodie pluralize --word Tomato`&#x000A;    <span class="nf">Then </span>the output should contain <span class="s">"Tomatoes"</span>&#x000A;</code></pre></div>
              <p>These scenarios test the CLI our gem will provide. In the <code>When I run</code> steps, the first word
              inside the quotes is the name of our executable, the second is the task name, and any further
              text is arguments or options. Yes, it <em>is</em> testing what appears to be the same thing as our
              specs. How very observant of you. Gold star! But it’s testing it through a CLI, which makes it
              <em>supremely awesome</em>. Contrived examples are <em>in</em> this year.</p>
              
              <p>The first scenario ensures that we can call a specific task and pass it a single argument which
              then becomes the part of the text that is output. The second scenario ensures effectively the
              same thing, but we pass that value in as an option rather than an argument.</p>
              
              <p>To run this feature, we use the <code>cucumber</code> command, but of course because it’s available within
              the context of our bundle, we use <code>bundle exec cucumber</code> like this:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>$ bundle exec cucumber features/&#x000A;</code></pre></div>
              <p>See those yellow things? They’re undefined steps:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>When /^I run "([^"]*)"$/ do |arg1|&#x000A;  pending # express the regexp above with the code you wish you had&#x000A;end&#x000A;&#x000A;Then /^the output should contain "([^"]*)"$/ do |arg1|&#x000A;  pending # express the regexp above with the code you wish you had&#x000A;end&#x000A;</code></pre></div>
              <p>We can define them by requiring Aruba. In Cucumber, all <em>.rb</em> files in the <em>features/support</em>
              directory are automatically required. To prove this to ourselves, we can add a
              <em>features/support/setup.rb</em> file (create the <em>support</em> directory first) and put in this single
              line:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'aruba/cucumber'</span>&#x000A;</code></pre></div>
              <p>This loads the Cucumber steps provided by Aruba which are the same steps our Cucumber features
              need to be awesome.</p>
              
              <p>We have to re-run <code>bundle exec cucumber features</code>, just to see what happens next. We see red. Red
              like the blood incessantly seeping from the walls. It contains this cryptic message:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>sh: foodie: command not found&#x000A;</code></pre></div>
              <p>OK, so it’s not <em>that</em> cryptic. It just means it can’t find the executable file for our gem. No
              worries, we can create a <em>exe</em> directory at the root of our gem, and put a file in it named
              <em>foodie</em>. This file has no extension because it’s an <em>executable</em> file rather than a script. We
              don’t want to go around calling <code>foodie.rb</code> everywhere, do we? No, no we don’t. We will fill this
              file with this content:</p>
              
              <div class="highlight"><pre class="highlight shell"><code><span class="c">#!/usr/bin/env ruby</span>&#x000A;print <span class="s2">"nothing."</span>&#x000A;</code></pre></div>
              <p>If this file was completely empty, we would run into a non-friendly <code>Errno::ENOEXEC</code> error. Hey,
              speaking of running, we should <code>chmod</code> this file to be an executable from our terminal:</p>
              
              <div class="highlight"><pre class="highlight shell"><code><span class="nv">$ </span>chmod +x exe/foodie&#x000A;</code></pre></div>
              <p>Alright so we’ve got the executable file, now what? If we re-run our features we get <em>nothing</em>
              for the output. Nothing! Literally!</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>got: "nothing."&#x000A;</code></pre></div>
              <p>Our <em>exe/foodie</em> file is empty, which results in this Nothing Travesty. Get rid of the <code>print&#x000A;"nothing."</code> line and replace it with all the code required to run our CLI, which consists of two
              lines:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'foodie/cli'</span>&#x000A;<span class="no">Foodie</span><span class="o">::</span><span class="no">CLI</span><span class="p">.</span><span class="nf">start</span>&#x000A;</code></pre></div>
              <p>Boom! When we run <code>bundle exec cucumber features</code> again it will whinge that there’s no
              <em>foodie/cli</em> file to require. Before we go into what this file does, we should explain the code
              on the <em>other</em> line of the <em>exe/foodie</em> file. The <code>start</code> method fires up our <code>CLI</code> class and
              will look for a task that matches the one we ask for.</p>
              
              <p>Ok, so it’s therefore obvious that the next step is to create this file, but what does it do?</p>
              
              <p>This new <em>lib/foodie/cli.rb</em> file will define the command line interface using another gem called
              <code>Thor</code>. Thor was created by Yehuda Katz (&amp; collaborators) as an alternative to the Rake build
              tool. Thor provides us with a handy API for defining our CLI, including usage banners and help
              output. The syntax is very similar to Rake. Additionally, Rails and Bundler both use Thor for
              their CLI interface as well as their generator base. Yes, Thor even does generators!</p>
              
              <p>For now we’ll just look at how we can craft a CLI using Thor and then afterwards, if you behave,
              we’ll look at how to write a generator using it too.</p>
              
              <h2 id="crafting-a-cli">Crafting a CLI</h2>
              
              <p>To make this CLI work we’re going to need to create a <code>Foodie::CLI</code> class and define a <code>start</code>
              method on it. Or you know, there’s probably a gem out there for us to use. Like
              <a href="http://github.com/wycats/thor">Thor</a>. Named after the badass lightning god from Norse mythology,
              this gem is definitely on the fast-track to being just as badass. This gem is what we’ll be using
              to build our CLI interface and then later on the generator (if you behave, remember?).</p>
              
              <p>Let’s define the <code>lib/foodie/cli.rb</code> file now like this:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'thor'</span>&#x000A;<span class="k">module</span> <span class="nn">Foodie</span>&#x000A;  <span class="k">class</span> <span class="nc">CLI</span> <span class="o">&lt;</span> <span class="no">Thor</span>&#x000A;&#x000A;  <span class="k">end</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>The <code>Thor</code> class has a series of methods – such as the <code>start</code> method we reference back in
              <code>exe/foodie</code> – that we can use to create this CLI. Oh, by the way, our class doesn’t have to be
              called <code>CLI</code>, it’s just best practice to do so. We don’t magically get this <code>Thor</code> class; we need
              to tell our <em>gemspec</em> that we depend on this gem by adding this line underneath our previous
              <code>add_dependency</code>:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">spec</span><span class="p">.</span><span class="nf">add_dependency</span> <span class="s2">"thor"</span>&#x000A;</code></pre></div>
              <p>To install this new dependency, we use <code>bundle install</code>. When we run <code>bundle exec cucumber&#x000A;features</code> again, we’ll see that it’s now complaining that it could not find the tasks we’re
              calling:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>Could not find task "portray"&#x000A;...&#x000A;Could not find task "pluralize"&#x000A;</code></pre></div>
              <p>Thor tasks are defined as plain ol’ methods, but with a slight twist. To define the <code>portray</code>
              task in our <code>Foodie::CLI</code> class we will write this inside the <code>Foodie::CLI</code> class:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">desc</span> <span class="s2">"portray ITEM"</span><span class="p">,</span> <span class="s2">"Determines if a piece of food is gross or delicious"</span>&#x000A;<span class="k">def</span> <span class="nf">portray</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>&#x000A;  <span class="nb">puts</span> <span class="no">Foodie</span><span class="o">::</span><span class="no">Food</span><span class="p">.</span><span class="nf">portray</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>The <code>desc</code> method is the “slight twist” here. The method defined after it becomes a task with the
              given description. The first argument for <code>desc</code> is the usage instructions for the task whilst
              the second is the short description of what that task accomplishes. The <code>portray</code> method is
              defined with a single argument, which will be the first argument passed to this task on the
              command line. Inside the <code>portray</code> method we call <code>Foodie::Food.portray</code> and pass it this
              argument.</p>
              
              <p>In the <code>Foodie::CLI</code> class we’re referencing the <code>Foodie::Food</code> class without requiring the file
              that defines it. Under the <code>require 'thor'</code> at the top of this file, put this line to require the
              file that defines <code>Foodie::Food</code>:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'foodie'</span>&#x000A;</code></pre></div>
              <p>When we re-run our features using <code>bundle exec cucumber features</code> our first scenario will pass:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>2 scenarios (1 failed, 1 passed)&#x000A;4 steps (1 failed, 3 passed)&#x000A;</code></pre></div>
              <p>The second is still failing because we haven’t defined the <code>pluralize</code> task. This time rather
              than defining a task that takes an argument, we’ll define a task that reads in the value from an
              option passed to the task. To define the <code>pluralize</code> task we use this code in <code>Foodie::CLI</code>:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">desc</span> <span class="s2">"pluralize"</span><span class="p">,</span> <span class="s2">"Pluralizes a word"</span>&#x000A;<span class="n">method_option</span> <span class="ss">:word</span><span class="p">,</span> <span class="ss">:aliases</span> <span class="o">=&gt;</span> <span class="s2">"-w"</span>&#x000A;<span class="k">def</span> <span class="nf">pluralize</span>&#x000A;  <span class="nb">puts</span> <span class="no">Foodie</span><span class="o">::</span><span class="no">Food</span><span class="p">.</span><span class="nf">pluralize</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="ss">:word</span><span class="p">])</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>Here there’s the new <code>method_option</code> method we use which defines, well, a method option. It takes
              a hash which indicates the details of an option how they should be returned to our task. Check
              out the Thor README for a full list of valid types. We can also define aliases for this method
              using the <code>:aliases</code> option passed to <code>method_option</code>. Inside the task we reference the value of
              the options through the <code>options</code> hash and we use <code>Foodie::Food.pluralize</code> to pluralize a word.</p>
              
              <p>When we run our scenarios again with <code>bundle exec cucumber features</code> both scenarios will be
              passing:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>2 scenarios (2 passed)&#x000A;4 steps (4 passed)&#x000A;</code></pre></div>
              <p>We can try executing the CLI app by running <code>bundle exec exe/foodie portray broccoli</code>.</p>
              
              <p>If we want to add more options later on, we can define them by using the <code>method_options</code> helper
              like this:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">method_options</span> <span class="ss">:word</span> <span class="o">=&gt;</span> <span class="ss">:string</span><span class="p">,</span> <span class="ss">:uppercase</span> <span class="o">=&gt;</span> <span class="ss">:boolean</span>&#x000A;<span class="k">def</span> <span class="nf">pluralize</span>&#x000A;  <span class="c1"># accessed as options[:word], options[:uppercase]</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>In this example, <code>options[:word]</code> will return a <code>String</code> object, whilst <code>options[:uppercase]</code>
              will return either <code>true</code> or <code>false</code>, depending on the value it has received.</p>
              
              <p>This introduction should have whet your appetite to learn more about Thor and it’s encouraged
              that you do that now. Check out <code>Bundler::CLI</code> for a great example of using Thor as a CLI tool.</p>
              
              <p>With our features and specs all passing now, we’re at a good point to commit our code.</p>
              
              <p>It was aforementioned that we could use Thor for more than just CLI. That we could use it to
              create a generator. This is true. We can even create generator<em>s</em>, but let’s not get too carried
              away right now and just focus on creating the one.</p>
              
              <h2 id="testing-a-generator">Testing a generator</h2>
              
              <p>You saw that pun coming, right? Yeah, pretty obvious.</p>
              
              <p>We’re going to mix it up a bit and add a new feature to our gem: a generator for a <em>recipes</em>
              directory. The idea is that we can run our generator like this:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>foodie recipe dinner steak&#x000A;</code></pre></div>
              <p>This will generate a <em>recipes</em> directory at the current location, a <em>dinner</em> directory inside
              that and then a <em>steak.txt</em> file inside that. This <em>steak.txt</em> file will contain the scaffold for
              a recipe, such as the ingredients and the instructions.</p>
              
              <p>Thankfully for us, Aruba has ways of testing that a generator generates files and directories.
              Let’s create a new file called <code>features/generator.feature</code> and fill it with this content:</p>
              
              <div class="highlight"><pre class="highlight gherkin"><code><span class="kd">Feature</span><span class="p">:</span> Generating things&#x000A;  In order to generate many a thing&#x000A;  As a CLI newbie&#x000A;  I want foodie to hold my hand, tightly&#x000A;&#x000A;  <span class="kn">Scenario</span><span class="p">:</span> Recipes&#x000A;    <span class="nf">When </span>I run `foodie recipe dinner steak`&#x000A;    <span class="err">Then the following files should exist</span><span class="p">:</span>&#x000A;      <span class="p">|</span> <span class="nv">dinner/steak.txt</span> <span class="p">|</span>&#x000A;    <span class="n">Then</span> <span class="n">the</span> <span class="n">file</span> <span class="n">"dinner/steak.txt"</span> <span class="n">should</span> <span class="n">contain:</span>&#x000A;      <span class="s">"""&#x000A;      ##### Ingredients #####&#x000A;      Ingredients for delicious steak go here.&#x000A;&#x000A;&#x000A;      ##### Instructions #####&#x000A;      Tips on how to make delicious steak go here.&#x000A;      """</span>&#x000A;</code></pre></div>
              <p>It’s important to note that the word after “delicious” both times is “steak”, which is <em>very</em>
              delicious. It’s also the last argument we pass in to the command that we run, and therefore
              should be a dynamic variable in our template. We’ll see how to do this soon.</p>
              
              <p>When we run this feature we’ll be told that it cannot find the <em>dinner/steak.txt</em> file that we
              asked the generator to do. Why not?</p>
              
              <h2 id="writing-a-generator">Writing a generator</h2>
              
              <p>Well, because currently we don’t have a <code>recipe</code> task that does this for us defined in
              <code>Foodie::CLI</code>. We can define a generator class just like we define a CLI class:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="n">desc</span> <span class="s2">"recipe"</span><span class="p">,</span> <span class="s2">"Generates a recipe scaffold"</span>&#x000A;<span class="k">def</span> <span class="nf">recipe</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="nb">name</span><span class="p">)</span>&#x000A;  <span class="no">Foodie</span><span class="o">::</span><span class="no">Generators</span><span class="o">::</span><span class="no">Recipe</span><span class="p">.</span><span class="nf">start</span><span class="p">([</span><span class="n">group</span><span class="p">,</span> <span class="nb">name</span><span class="p">])</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>The first argument for this method are the arguments passed to the generator. We will need to
              require the file for this new class too, which we can do by putting this line at the top of
              <em>lib/foodie/cli.rb</em>:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'foodie/generators/recipe'</span>&#x000A;</code></pre></div>
              <p>To define this class, we inherit from <code>Thor::Group</code> rather than <code>Thor</code>. We will also need to
              include the <code>Thor::Actions</code> module to define helper methods for our generator which include the
              likes of those able to create files and directories. Because this is a generator class, we will
              put it in a new namespace called “generators”, making the location of this file
              <em>lib/foodie/generators/recipe.rb</em>:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'thor/group'</span>&#x000A;<span class="k">module</span> <span class="nn">Foodie</span>&#x000A;  <span class="k">module</span> <span class="nn">Generators</span>&#x000A;    <span class="k">class</span> <span class="nc">Recipe</span> <span class="o">&lt;</span> <span class="no">Thor</span><span class="o">::</span><span class="no">Group</span>&#x000A;      <span class="kp">include</span> <span class="no">Thor</span><span class="o">::</span><span class="no">Actions</span>&#x000A;&#x000A;      <span class="n">argument</span> <span class="ss">:group</span><span class="p">,</span> <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="ss">:string</span>&#x000A;      <span class="n">argument</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="ss">:string</span>&#x000A;    <span class="k">end</span>&#x000A;  <span class="k">end</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>By inheriting from <code>Thor::Group</code>, we’re defining a generator rather than a CLI. When we call
              <code>argument</code>, we are defining arguments for our generator. These are the same arguments in the same
              order they are passed in from the <code>recipe</code> task back in <code>Foodie::CLI</code></p>
              
              <p>To make this generator, ya know, generate stuff we simply define methods in the class. All
              methods defined in a <code>Thor::Group</code> descendant will be run when <code>start</code> is called on it. Let’s
              define a <code>create_group</code> method inside this class which will create a directory using the name we
              have passed in.</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="k">def</span> <span class="nf">create_group</span>&#x000A;  <span class="n">empty_directory</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>To put the file in this directory and to save our foodie-friends some typing, we will use the
              <code>template</code> method. This will copy over a file from a pre-defined source location and evaluate it
              as if it were an ERB template. We will define a <code>copy_recipe</code> method to do this now:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="k">def</span> <span class="nf">copy_recipe</span>&#x000A;  <span class="n">template</span><span class="p">(</span><span class="s2">"recipe.txt"</span><span class="p">,</span> <span class="s2">"</span><span class="si">#{</span><span class="n">group</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">.txt"</span><span class="p">)</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>If we had any ERB calls in this file, they would be evaluated and the result would be output in
              the new template file.</p>
              
              <p>It’s been an awful long time since we ran something. Hey, here’s an idea! Let’s run our
              generator! We can do this without using Cucumber by running <code>bundle exec exe/foodie recipe dinner&#x000A;steak</code>, but just this once. Generally we’d test it solely through Cucumber. When we run this
              command we’ll be told all of this:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>create  dinner&#x000A;Could not find "recipe.txt" in any of your source paths. Please invoke Foodie::Generators::Recipe.source_root(PATH) with the PATH containing your templates. Currently you have no source paths.&#x000A;</code></pre></div>
              <p>The first line tells us that the <em>dinner</em> directory has been created. Nothing too fancy there.</p>
              
              <p>The second line is more exciting though! It’s asking us to define the <code>source_root</code> method for
              our generator. That’s easy! We can define it as a class method in <code>Foodie::Generators::Recipe</code>
              like this:</p>
              
              <div class="highlight"><pre class="highlight ruby"><code><span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">source_root</span>&#x000A;  <span class="no">File</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="kp">__FILE__</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"/recipe"</span>&#x000A;<span class="k">end</span>&#x000A;</code></pre></div>
              <p>This tells our generator where to find the template. Now all we need to do is to create the 
              template, which we can put at <em>lib/foodie/generators/recipe/recipe.txt</em>:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>##### Ingredients #####&#x000A;Ingredients for delicious &lt;%= name %&gt; go here.&#x000A;&#x000A;&#x000A;##### Instructions #####&#x000A;Tips on how to make delicious &lt;%= name %&gt; go here.&#x000A;</code></pre></div>
              <p>When we use the <code>template</code> method, the template file is treated like an ERB template which is 
              evaluated within the current <code>binding</code> which means that it has access to the same methods and 
              variables as the method that calls it.</p>
              
              <p>And that’s all! When we run <code>bundle exec cucumber features</code> all our features will be passing!</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>3 scenarios (3 passed)&#x000A;7 steps (7 passed)&#x000A;</code></pre></div>
              <p>Amazing stuff, hey?</p>
              
              <h2 id="releasing-the-gem">Releasing the gem</h2>
              
              <p>If we haven’t already, we should commit all the files for our repository:</p>
              
              <div class="highlight"><pre class="highlight shell"><code><span class="nv">$ </span>git add <span class="nb">.</span>&#x000A;<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"The beginnings of the foodie gem"</span>&#x000A;</code></pre></div>
              <p>This is because the <code>foodie.gemspec</code> file uses <code>git ls-files</code> to detect which files should be 
              added to the gem when we release it.</p>
              
              <p>The final step before releasing our gem is to give it a summary and description in the 
              <em>foodie.gemspec</em> file.</p>
              
              <p>Now we’re going to make sure that our gem is ready to be published. To do this, we can run <code>rake &#x000A;build</code> which will build a local copy of our gem and then <code>gem install pkg/foodie-0.1.0.gem</code> to 
              install it. Then we can try it locally by running the commands that it provides. Once we know 
              everything’s working, then we can release the first version.</p>
              
              <p>To release the first version of our gem we can use the <code>rake release</code> command, providing we have 
              committed everything. This command does a couple of things. First it builds the gem to the <em>pkg</em> 
              directory in preparation for a push to Rubygems.org.</p>
              
              <p>Second, it creates a tag for the current commit reflecting the current version and pushes it to 
              the git remote. It’s encouraged that we host the code on GitHub so that others may easily find 
              it.</p>
              
              <p>If this push succeeds then the final step will be the push to Rubygems.org which will now allow 
              other people to download and install the gem.</p>
              
              <p>If we want to release a second version of our gem, we should make our changes and then commit 
              them to GitHub. Afterwards, we will bump the version number in <em>lib/foodie/version.rb</em> to 
              whatever we see fit, make another commit to GitHub with a useful message such as “bumped to 
              0.0.2” and then run <code>rake release</code> again.</p>
              
              <p>If we want to make this process a little easier we could install the “gem-release” gem with:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>$ gem install gem-release&#x000A;</code></pre></div>
              <p>This gem provides several methods for helping with gem development in general, but most helpful 
              is the <code>gem bump</code> command which will bump the gem version to the next patch level. This method 
              also takes options to do these things:</p>
              
              <div class="highlight"><pre class="highlight plaintext"><code>$ gem bump --version minor # bumps to the next minor version&#x000A;$ gem bump --version major # bumps to the next major version&#x000A;$ gem bump --version 1.1.1 # bumps to the specified version&#x000A;</code></pre></div>
              <p>For more information, check out the <a href="http://github.com/svenfuchs/gem-release">“gem-release” GitHub repository 
              homepage</a>.</p>
              
              <h2 id="summary">Summary</h2>
              
              <p>Whilst this isn’t an <em>exhaustive</em> guide on developing a gem, it covers the basics needed for gem 
              development. It’s really, <em>really</em> recommended that you check out the source for Bundler, Rails 
              and RSpec for great examples of gem development.</p>
              
              <p><strong>If you’re looking for the complete source code for this example it can be found
              <a href="http://github.com/radar/guides/tree/master/gem-development/foodie">here</a></strong></p>
              
              <hr />
              
              <p><strong>Many thanks to author of this guide: <a href="https://github.com/radar">Ryan Bigg</a>. You can find more of his guides
              <a href="https://github.com/radar/guides">here</a>.</strong></p>
            </div>
          </div>
        </div>
      </div>
      <div class='row'>
        <div class='container'>
          <div class='hidden-lg hidden-md hidden-sm' id='bottom-sidebar-wrapper'>
            <div class='bottom-sidebar-nav'>
              <ul>
                <li class=''>
                  <a href="/v1.16/guides/faq.html">Frequently Asked Questions</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class='active'>
                  <a href="/v1.16/guides/creating_gem.html">How to create a Ruby gem with Bundler</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/deploying.html">How to deploy bundled applications</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/git.html">How to install gems from git repositories</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/using_bundler_in_applications.html">How to manage application dependencies with Bundler</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/groups.html">How to manage groups of gems</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/bundler_sharing.html">How to package and share code using a Gemfile</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/rubygems_tls_ssl_troubleshooting_guide.html">How to troubleshoot RubyGems and Bundler TLS/SSL Issues</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/updating_gems.html">How to update gems with Bundler</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/rails.html">How to use Bundler with Rails</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/bundler_setup.html">How to use Bundler with Ruby</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/sinatra.html">How to use Bundler with Sinatra</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
                <li class=''>
                  <a href="/v1.16/guides/git_bisect.html">How to use git bisect with Bundler</a>
                </li>
                <li class='separator'>
                  <hr>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <script>
        $(document).ready(function() {
          anchors.add();
        });
      </script>
      
    </div>
    <div class='footer'>
      <div class='row'>
        <div class='container text-center'>
          <ul class='nav navbar-nav'>
            <li><a href="/docs.html">Docs</a></li>
            <li><a href="/contributors.html">Team</a></li>
            <li><a href="/blog">Blog</a></li>
            <li><a href="https://github.com/bundler/bundler">Repository</a></li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>
